import{d as defineComponent,_ as _export_sfc,f as createBlock,w as withCtx,r as resolveComponent,o as openBlock,a as createVNode,b as createBaseVNode,c as createElementBlock,i as renderList,t as toDisplayString,F as Fragment}from"./index-BJrzQxpg.js";const _sfc_main=defineComponent({name:"Calculator",data(){return{currentInput:"",history:[],allowedKeys:["0","1","2","3","4","5","6","7","8","9",".","(",")","+","-","*","/","%"]}},mounted(){window.addEventListener("keydown",this.handleKeyPress)},beforeUnmount(){window.removeEventListener("keydown",this.handleKeyPress)},methods:{calculateResult(){try{const result=eval(this.currentInput);this.history.push(`${this.currentInput} = ${result}`),this.currentInput=String(result)}catch(t){this.currentInput="Error"}},handleKeyPress(t){this.allowedKeys.includes(t.key)?this.currentInput+=t.key:t.key==="Enter"||t.key==="="?this.calculateResult():t.key==="Backspace"?this.currentInput=this.currentInput.slice(0,-1):t.key==="Escape"&&(this.currentInput="")},goBack(){this.$router.back()}}}),_hoisted_1={class:"Calculator-display"},_hoisted_2={class:"Calculator-history"};function _sfc_render(t,e,i,c,d,p){const l=resolveComponent("Button"),s=resolveComponent("TitleBar"),a=resolveComponent("TextField"),o=resolveComponent("HBox"),r=resolveComponent("VBox"),u=resolveComponent("Window");return openBlock(),createBlock(u,null,{top:withCtx(()=>[createVNode(s,null,{area:withCtx(()=>[createVNode(l,{onClick:t.goBack,icon:"chevron_left",type:"flat"},null,8,["onClick"])]),_:1})]),content:withCtx(()=>[createVNode(r,{align:"fill",class:"Calculator"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1,[createBaseVNode("div",_hoisted_2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.history,n=>(openBlock(),createElementBlock("div",{class:"Calculator-history-item",key:n},toDisplayString(n),1))),128))]),createVNode(a,{modelValue:t.currentInput,"onUpdate:modelValue":e[0]||(e[0]=n=>t.currentInput=n),placeholder:"0",class:"Calculator-input",readOnly:"",flat:!0},null,8,["modelValue"])]),createVNode(r,{align:"center"},{default:withCtx(()=>[createVNode(r,{class:"Calculator-keypad",margin:16},{default:withCtx(()=>[createVNode(o,{class:"Keypad-row"},{default:withCtx(()=>[createVNode(l,{label:"C",onClick:e[1]||(e[1]=n=>t.currentInput=""),class:"Key Key--function"}),createVNode(l,{label:"(",onClick:e[2]||(e[2]=n=>t.currentInput+="("),class:"Key Key--function"}),createVNode(l,{label:")",onClick:e[3]||(e[3]=n=>t.currentInput+=")"),class:"Key Key--function"}),createVNode(l,{label:"รท",onClick:e[4]||(e[4]=n=>t.currentInput+="/"),class:"Key Key--function"})]),_:1}),createVNode(o,{class:"Keypad-row"},{default:withCtx(()=>[createVNode(l,{label:"7",onClick:e[5]||(e[5]=n=>t.currentInput+="7"),class:"Key"}),createVNode(l,{label:"8",onClick:e[6]||(e[6]=n=>t.currentInput+="8"),class:"Key"}),createVNode(l,{label:"9",onClick:e[7]||(e[7]=n=>t.currentInput+="9"),class:"Key"}),createVNode(l,{label:"ร",onClick:e[8]||(e[8]=n=>t.currentInput+="*"),class:"Key Key--function"})]),_:1}),createVNode(o,{class:"Keypad-row"},{default:withCtx(()=>[createVNode(l,{label:"4",onClick:e[9]||(e[9]=n=>t.currentInput+="4"),class:"Key"}),createVNode(l,{label:"5",onClick:e[10]||(e[10]=n=>t.currentInput+="5"),class:"Key"}),createVNode(l,{label:"6",onClick:e[11]||(e[11]=n=>t.currentInput+="6"),class:"Key"}),createVNode(l,{label:"-",onClick:e[12]||(e[12]=n=>t.currentInput+="-"),class:"Key Key--function"})]),_:1}),createVNode(o,{class:"Keypad-row"},{default:withCtx(()=>[createVNode(l,{label:"1",onClick:e[13]||(e[13]=n=>t.currentInput+="1"),class:"Key"}),createVNode(l,{label:"2",onClick:e[14]||(e[14]=n=>t.currentInput+="2"),class:"Key"}),createVNode(l,{label:"3",onClick:e[15]||(e[15]=n=>t.currentInput+="3"),class:"Key"}),createVNode(l,{label:"+",onClick:e[16]||(e[16]=n=>t.currentInput+="+"),class:"Key Key--function"})]),_:1}),createVNode(o,{class:"Keypad-row"},{default:withCtx(()=>[createVNode(l,{label:"0",onClick:e[17]||(e[17]=n=>t.currentInput+="0"),class:"Key Key--zero"}),createVNode(l,{label:".",onClick:e[18]||(e[18]=n=>t.currentInput+="."),class:"Key Key--function"}),createVNode(l,{label:"%",onClick:e[19]||(e[19]=n=>t.currentInput+="%"),class:"Key Key--function"}),createVNode(l,{label:"=",onClick:t.calculateResult,type:"suggested",class:"Key"},null,8,["onClick"])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}const Calculator=_export_sfc(_sfc_main,[["render",_sfc_render],["__scopeId","data-v-ecc2e450"]]);export{Calculator as default};
